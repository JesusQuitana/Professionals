!function(){let t={totalRegistros:0,totalPaginas:0,offset:0,registrosXPaginas:6,paginaActual:1};async function e(){const e=`${window.location}/pages`,n=new FormData;n.append("limit",t.registrosXPaginas),n.append("offset",t.offset);const o=await fetch(e,{method:"POST",body:n}),c=await o.json();c.resultado&&a(c.registro)}function n(n){const{paginaActual:a,totalPaginas:o}=t,c=document.querySelector(".btnAnterior"),i=document.querySelector(".btnSiguiente");t.offset=t.registrosXPaginas*(t.paginaActual-1),a<=1?(c.classList.add("ocultar"),i.classList.remove("ocultar")):a>=o?(i.classList.add("ocultar"),c.classList.remove("ocultar")):(c.classList.remove("ocultar"),i.classList.remove("ocultar")),e()}function a(e){const n=document.querySelector(".paginacion__numeros");n.innerHTML="";const c=document.createElement("P");c.textContent=t.paginaActual,n.appendChild(c);const i=document.querySelector("tbody");i.innerHTML="",e.forEach((t=>{const n=document.createElement("TR"),c=document.createElement("TD");c.classList.add("name"),c.textContent=t.nombre;const s=document.createElement("TD"),d=document.createElement("P");0==t.confirmado?(d.textContent="No Confirmado",d.classList.add("confirmar")):(d.textContent="Confirmado",d.classList.add("notconfirmar")),s.appendChild(d),n.appendChild(c),n.appendChild(s),i.appendChild(n),d.addEventListener("click",(()=>{0==t.confirmado?(e.filter((e=>e.id==t.id))[0].confirmado=1,o(t.id),a(e)):(e.filter((e=>e.id==t.id))[0].confirmado=0,o(t.id),a(e))})),c.addEventListener("click",(()=>{!function(t){const e=document.querySelector("body"),n=document.createElement("DIV");n.classList.add("modal");const a=document.createElement("DIV");a.classList.add("card");const o=document.createElement("DIV");o.classList.add("titulo");const c=document.createElement("I");c.classList.add("fa-solid"),c.classList.add("fa-x");const i=document.createElement("P");i.classList.add("name"),i.textContent=`${t.nombre}`;const s=document.createElement("P");s.classList.add("precio"),s.textContent=`Precio: ${t.precio}$`;const d=document.createElement("P");d.classList.add("user_name");const r=document.createElement("ul");r.classList.add("profesios"),o.appendChild(i),o.appendChild(c),a.appendChild(o),a.appendChild(d),a.appendChild(s),a.appendChild(r),n.appendChild(a),e.appendChild(n),async function(t){const e=document.querySelector(".user_name"),n=`${window.location}/user`,a=new FormData;a.append("usuario_id",t);const o=await fetch(n,{method:"POST",body:a}),c=await o.json();c.resultado&&(e.textContent=`Cliente: ${c.registro.nombre} ${c.registro.apellido}`)}(t.usuario_id),async function(t){const e=document.querySelector(".profesios"),n=`${window.location}/profesios`,a=new FormData;a.append("id",t);const o=await fetch(n,{method:"POST",body:a}),c=await o.json();if(c.resultado){const t=document.createElement("P");t.textContent="Encargado a:",e.appendChild(t),c.registro.forEach((t=>{const n=document.createElement("LI");n.textContent=`${t.registro.nombre} ${t.registro.apellido}`,e.appendChild(n)}))}}(t.id),c.addEventListener("click",(()=>{n.remove()}))}(t)}))}))}async function o(t){const e=`${window.location}/confirmar`,n=new FormData;n.append("proyecto_id",t);const a=await fetch(e,{method:"POST",body:n});await a.json()}document.addEventListener("DOMContentLoaded",(()=>{!async function(){const a=`${window.location}/count`,o=await fetch(a),c=await o.json();c.resultado&&(t.totalRegistros=parseInt(c.cantidad),t.totalPaginas=Math.ceil(t.totalRegistros/t.registrosXPaginas),t.offset=t.registrosXPaginas*(t.paginaActual-1),function(){const{paginaActual:a,totalPaginas:o}=t,c=document.querySelector(".btnAnterior"),i=document.querySelector(".btnSiguiente");e(),c.addEventListener("click",(()=>{t.paginaActual--,n()})),i.addEventListener("click",(()=>{t.paginaActual++,n()}))}())}()}))}();
//# sourceMappingURL=proyectos.js.map
