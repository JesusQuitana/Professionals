!function(){let t={totalRegistros:0,totalPaginas:0,offset:0,registrosXPaginas:6,paginaActual:1};async function e(){const n=`${window.location}/profesional/pages`,a=new FormData;a.append("limit",t.registrosXPaginas),a.append("offset",t.offset);const o=await fetch(n,{method:"POST",body:a}),i=await o.json();i.resultado&&function(n){const a=document.querySelector(".paginacion__numeros");a.innerHTML="";const o=document.createElement("P");o.textContent=t.paginaActual,a.appendChild(o);const i=document.querySelector("tbody");i.innerHTML="",n.forEach((t=>{const n=document.createElement("TR"),a=document.createElement("TD");a.textContent=t.nombre;const o=document.createElement("TD");o.textContent=t.ubicacion;const s=document.createElement("TD"),r=document.createElement("A");r.setAttribute("href",`/admin/editar?p=${t.id}`),r.classList.add("editar"),r.textContent="Editar";const c=document.createElement("P");c.classList.add("eliminar"),c.textContent="Eliminar",s.appendChild(r),s.appendChild(c),n.appendChild(a),n.appendChild(o),n.appendChild(s),i.appendChild(n),c.addEventListener("click",(()=>{!async function(t){const n=`${window.location}/profesional/editar`,a=new FormData;a.append("id",t.id);const o=await fetch(n,{method:"POST",body:a}),i=await o.json();if(i.resultado){e();Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",title:`${i.mensaje}`})}else{Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"error",title:`${i.error}`})}}(t)}))}))}(i.registro)}function n(n){const{paginaActual:a,totalPaginas:o}=t,i=document.querySelector(".btnAnterior"),s=document.querySelector(".btnSiguiente");t.offset=t.registrosXPaginas*(t.paginaActual-1),a<=1?(i.classList.add("ocultar"),s.classList.remove("ocultar")):a>=o?(s.classList.add("ocultar"),i.classList.remove("ocultar")):(i.classList.remove("ocultar"),s.classList.remove("ocultar")),e()}document.addEventListener("DOMContentLoaded",(()=>{!async function(){const a=`${window.location}/profesional/count`,o=await fetch(a),i=await o.json();i.resultado&&(t.totalRegistros=parseInt(i.cantidad),t.totalPaginas=Math.ceil(t.totalRegistros/t.registrosXPaginas),t.offset=t.registrosXPaginas*(t.paginaActual-1),function(){const{paginaActual:a,totalPaginas:o}=t,i=document.querySelector(".btnAnterior"),s=document.querySelector(".btnSiguiente");e(),i.addEventListener("click",(()=>{t.paginaActual--,n()})),s.addEventListener("click",(()=>{t.paginaActual++,n()}))}())}()}))}();
//# sourceMappingURL=profesionals.js.map
